window["github.com/davesmiths/uri-js"]={parse:function(s,e){var r,t,a,p,n,h,o,u=s,c=[],m={},f=":",l="/",g={},d=f,v="indexOf",w="split",y="shift",b="join",j=s[v](f),x=s[v](l),O=s[v]("?"),$=s[v]("#");for(s=s.replace(/^\s+|\s+$/g,""),-1!==j&&(-1===x||x>j)&&(-1===O||O>j)&&(s=s[w](f),t=s[y](),s=s[b](f)),(t===e||"http,https,ftp"[w](t,2)[1])&&(d=l,-1!==$&&(j=s[w]("#"),s=j[y](),r=j[b]("#")||""),-1!==O&&(-1===$||$>O)&&(j=s[w]("?"),s=j[y](),j=j[b]("?")[w]("&"),c=j.map(function(s,e){return s=s[w]("="),e=s[y]().replace(/^amp;/,""),s=s[b]("="),m[e]=s,{key:e,value:s}})),s.substr(0,2)===l+l&&(s=s.substr(2)[w](l),j=s[y]()[w]("@"),x=j.pop()[w](f),j=j[b]("@")[w](f),a=j[y]()||e,p=j[b](f)||e,n=x[y](),h=x[b](f)||e,s=l+s[b](l))),o=s||e,d=o?o.replace(/^\//,"").replace(new RegExp(d+"$"),"").split(d):[],i=d.length;i>-1;i--)d[i]&&(g[d[i]]=!0);return{readonly:{source:u,params:c},params:m,hash:r,scheme:t,user:a,pass:p,host:n,port:h,path:o,segments:d,segment:g}},stringify:function(s,e){var r,t=s.scheme,a="",p=s.params,i=s.host,n=s.user,h=s.pass,o=s.port,u=s.hash,c=t?t+":":"";if(i&&(c+="//"),n&&(c+=n,h&&(c+=":"+h),c+="@"),c+=i||"",o&&(c+=":"+o),c+=s.path||"",p){for(r in p)p.hasOwnProperty(r)&&(a+=r+(p[r]?"="+p[r]:"")+"&");a&&(c+="?"+a.slice(0,-1))}return u!==e&&(c+="#"+u),c}};
